<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>인생 질문 랜덤 뽑기</title>
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="icon" href="icons/icon-192.png">
  <style>
    body { font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans KR","Apple SD Gothic Neo","Malgun Gothic",sans-serif; text-align: center; margin: 0; background: #f9fbfd; color:#1d2433; }
    h1 { background: #2f7adf; color: white; padding: 18px; margin: 0; font-size: 20px; }
    .wrap { max-width: 820px; margin: 24px auto; padding: 0 16px; }
    #question { margin-top: 18px; font-size: 20px; line-height:1.7; padding: 22px; background: white; display: inline-block; border-radius: 14px; box-shadow: 0 6px 20px rgba(0,0,0,.06); min-height: 110px; }
    .btns { margin-top: 16px; display:flex; gap:10px; justify-content:center; flex-wrap:wrap; }
    button { padding: 10px 16px; font-size: 15px; border:0; border-radius:10px; cursor: pointer; }
    .primary { background:#2f7adf; color:#fff; }
    .ghost { background:#e9edf3; color:#203047; }
    .pill { display:inline-block; background:#eaf2ff; color:#2f7adf; padding:4px 10px; border-radius:999px; font-size:12px; margin-left:8px; }
    .hint { color:#5a6a85; font-size:13px; margin-top:8px; }
  </style>
</head>
<body>
  <h1>인생 질문 랜덤 뽑기 <span id="remain" class="pill">남은 50</span></h1>

  <div class="wrap">
    <div id="question">버튼을 눌러 질문을 뽑아보세요.</div>
    <div class="btns">
      <button class="primary" onclick="pickQuestion()">질문 뽑기</button>
      <button class="ghost" onclick="resetQuestions()">다시 섞기</button>
      <button class="ghost" onclick="selectText()">텍스트 선택(복사용)</button>
    </div>
    <div class="hint">중복 없이 한 번씩만 표시됩니다. 다시 섞으면 처음부터 시작합니다.</div>
  </div>

  <script>
    const questions = [
      "태어난 도시와 그곳의 첫 기억은?",
      "어릴 때 가장 좋아했던 놀이는?",
      "초등학교 시절 가장 친했던 친구는?",
      "유치원 또는 어린이집에서 기억나는 장면은?",
      "어린 시절 가족과 함께 갔던 첫 여행지는?",
      "초등학교 때 가장 자랑스러웠던 순간은?",
      "처음으로 혼자 해낸 일은?",
      "성장하면서 가장 많이 도와준 사람은?",
      "학창시절 가장 힘들었던 사건은?",
      "좋아했던 과목과 이유는?",
      "싫어했던 과목과 이유는?",
      "중학교 시절의 별명은?",
      "중학교 때 즐겨 들었던 노래는?",
      "고등학교 시절 가장 기억에 남는 선생님은?",
      "학창시절 기억에 남는 실수는?",
      "첫 휴대폰은 언제, 어떤 모델이었는지?",
      "고등학교 졸업식 날 어떤 기분이었나?",
      "고등학교 때 가장 친했던 친구와의 추억은?",
      "10대 시절의 꿈은?",
      "첫 아르바이트 경험은?",
      "대학교 입학 전 기대했던 점은?",
      "대학교 첫 수업 때의 기분은?",
      "전공을 선택한 이유는?",
      "대학 시절 가장 재미있었던 활동은?",
      "대학 시절 힘들었던 과제나 프로젝트는?",
      "가장 기억에 남는 동아리/동호회 활동은?",
      "대학교에서 처음 사귄 친구와의 추억은?",
      "인생 첫 여행의 에피소드는?",
      "지금까지 살면서 가장 많이 웃었던 순간은?",
      "지금까지 살면서 가장 많이 울었던 순간은?",
      "특별한 날 받은 선물 중 기억에 남는 건?",
      "지금까지 해본 일 중 가장 뿌듯했던 일은?",
      "인생에서 가장 큰 전환점이 된 사건은?",
      "스스로 성장했다고 느낀 순간은?",
      "지금까지 받은 가장 큰 격려나 위로는?",
      "인생에서 가장 큰 도전은?",
      "직장(혹은 취준)하며 느낀 점은?",
      "첫 직장에서 기억에 남는 경험은?",
      "실패했지만 배운 점이 많았던 경험은?",
      "현재 가장 감사한 것은?",
      "지금 나에게 힘을 주는 사람은?",
      "미래에 꼭 이루고 싶은 목표는?",
      "나의 인생 가치관에 영향을 준 사건은?",
      "최근 1년간 가장 기억에 남는 하루는?",
      "나를 잘 표현하는 한 문장은?",
      "다른 사람에게 자랑하고 싶은 나만의 장점은?",
      "앞으로 배우고 싶은 기술이나 취미는?",
      "5년 뒤 나의 모습은?",
      "죽기 전에 꼭 해보고 싶은 것은?",
      "지금 내 마음을 한 단어로 표현하면?"
    ];

    let remaining = [];
    function shuffle(arr){ for(let i=arr.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]]; } }
    function updateRemain(){ document.getElementById('remain').textContent = `남은 ${remaining.length}`; }

    function resetQuestions() {
      remaining = [...questions];
      shuffle(remaining);
      document.getElementById('question').innerText = "섞었습니다! ‘질문 뽑기’를 눌러 시작하세요.";
      updateRemain();
    }

    function pickQuestion() {
      if (remaining.length === 0) {
        document.getElementById('question').innerText = "모든 질문을 소진했습니다! ‘다시 섞기’로 초기화 🎉";
        return;
      }
      const q = remaining.pop();
      document.getElementById('question').innerText = q;
      updateRemain();
    }

    function selectText() {
      const el = document.getElementById('question');
      const sel = window.getSelection();
      const range = document.createRange();
      range.selectNodeContents(el);
      sel.removeAllRanges();
      sel.addRange(range);
    }

    // 초기화 + PWA 서비스워커 등록
    resetQuestions();
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js').catch(()=>{});
    }
  </script>
</body>
</html>
